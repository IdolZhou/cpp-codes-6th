# 第 5 章 循环和关系表达式

## 5.1 for循环

for循环为执行重复的操作提供了循序渐进的步骤。

```c++
for (initialization; test-expression; update-expression)
{
    // body
}
```

for循环的组成部分完成下面这些步骤：

1. 设置初始值；
2. 执行测试，看看循环是否应该继续执行；
3. 执行循环操作；
4. 更新用于测试的值。

### 5.1.7 前缀和后缀格式

*虽然选择使用前缀格式还是后缀格式对程序的行为没有影响，但执行速度可能有细微的差别。对于内置类型和当代的编译器而言，这看似不是什么问题。然而，C++允许针对类定义这些运算符，在这种情况下，用户这样定义前缀函数：将值加1，然后返回结果；但后缀版本首先复制一个副本，将其加1，然后将复制的副本返回。因此，对于类而言，前缀版本的效率比后缀版本高。*

对于内置类型，采用哪种格式不会有差别；但对于用户自定义的类型，前缀格式的效率更高。

### 5.1.11 C-风格字符串的比较

使用*strcmp()*函数比较，该函数接收两个字符串地址作为参数。如果两个字符串相同，该函数返回零；

如果一个字符串按字母顺序排在第二个字符串之前，该函数将返回一个负数值；

如果一个字符串按字母顺序排在第二个字符串之后，该函数返回一个正数值。

```c++
// 表达式为true，则str1和str2相等
strcmp(str1, str2) == 0;
// 表达式为true，则str1在str2的前面
strcmp(str1, str2) < 0;
// 表达式为true，则str1在str2的后面
strcmp(str1, str2) > 0;
```

### 5.1.12 比较string类字符串

直接使用关系运算符进行比较。

## 5.2 while循环

while循环是没有初始化和更新部分的for循环，它只有测试条件和循环体：

```c++
while(test-condition)
{
    // body
}
```

在无法预知循环将执行的次数时，程序员常用while循环。

在设计循环时，应记住下面几条指导原则：

+ 指定循环终止条件
+ 在首次测试之前初始化条件
+ 在条件被再次测试之前更新条件

## 5.3 do while 循环

do while 出口条件（exit condition）循环。do while循环首先执行循环体，然后在判定测试条件表达式，决定是否应继续循环。意味着循环体至少执行一次。

```c++
do
    // body
while (test-expression)
```

